{"version":3,"sources":["tests/agent-test.js"],"names":["test","require","db","config","logging","MetricStub","belongsTo","AgentStub","beforeEach","hasMany","setupDB","proxyquire","t","truthy","Agent"],"mappings":"AAAA;;AAEA,MAAMA,IAAI,GAAGC,OAAO,CAAC,KAAD,CAApB;;AACA,IAAIC,EAAE,GAAG,IAAT;AACA,IAAIC,MAAM,GAAG;AACXC,EAAAA,OAAO,EAAE,YAAW,CAAE;AADX,CAAb;AAIA,IAAIC,UAAU,GAAG;AACfC,EAAAA,SAAS,EAAE,YAAW,CAAE;AADT,CAAjB;AAIA,IAAIC,SAAS,GAAG,IAAhB;AAEAP,IAAI,CAACQ,UAAL,CAAgB,YAAY;AAC1BD,EAAAA,SAAS,GAAG;AACVE,IAAAA,OAAO,EAAE,YAAW,CAAE;AADZ,GAAZ;AAIA,QAAMC,OAAO,GAAGC,UAAU,CAAC,KAAD,EAAQ;AAChC,sBAAkB,MAAMJ,SADQ;AAEhC,uBAAmB,MAAMF;AAFO,GAAR,CAA1B;AAIAH,EAAAA,EAAE,GAAG,MAAMQ,OAAO,CAACP,MAAD,CAAlB;AACD,CAVD;AAYAH,IAAI,CAAC,OAAD,EAAUY,CAAC,IAAI;AACjBA,EAAAA,CAAC,CAACC,MAAF,CAASX,EAAE,CAACY,KAAZ,EAAmB,4BAAnB;AACD,CAFG,CAAJ","sourceRoot":"/Users/franndyabreu/Desktop/Platzi-Verse/platziverse-db","sourcesContent":["\"use strict\";\n\nconst test = require(\"ava\");\nlet db = null;\nlet config = {\n  logging: function() {}\n};\n\nlet MetricStub = {\n  belongsTo: function() {}\n};\n\nlet AgentStub = null;\n\ntest.beforeEach(async () => {\n  AgentStub = {\n    hasMany: function() {}\n  };\n\n  const setupDB = proxyquire(\"../\", {\n    \"./models/agent\": () => AgentStub,\n    \"./models/metric\": () => MetricStub\n  });\n  db = await setupDB(config);\n});\n\ntest(\"Agent\", t => {\n  t.truthy(db.Agent, \"Agent service should exist\");\n});\n"]}